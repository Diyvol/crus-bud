-- Quest - Fury of the Frostborn King - The Master Explorer
DELETE FROM `creature` WHERE `id` IN (30182,30082,30065,30591,30063,30060,30053,30382,30383);
INSERT INTO `creature` (`id`, `map`, `spawnMask`, `phaseMask`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecs`, `curhealth`, `curmana`) VALUES
(30060, 571, 1, 2, 7233.45, -1126.26, 940.562, 3.82312, 300, 12175, 0),
(30060, 571, 1, 2, 7297.78, -1126.43, 938.438, 2.3505, 300, 12175, 0),
(30060, 571, 1, 2, 7294, -1127.58, 938.395, 2.43297, 300, 12175, 0),
(30060, 571, 1, 2, 7268.08, -1064.25, 941.133, 4.10979, 300, 12175, 0),
(30060, 571, 1, 2, 7255.3, -1066.41, 941.354, 4.98944, 300, 12175, 0),
(30060, 571, 1, 2, 7271.73, -970.641, 920.127, 0.917146, 300, 12175, 0),
(30060, 571, 1, 2, 7310.03, -1014.95, 913.544, 3.90951, 300, 12175, 0),
(30060, 571, 1, 2, 7340.16, -995.363, 908.223, 0.791482, 300, 12175, 0),
(30060, 571, 1, 2, 7349.47, -931.213, 908.672, 2.0866, 300, 12175, 0),
(30060, 571, 1, 2, 7308.32, -907.349, 920.619, 2.60889, 300, 12175, 0),
(30060, 571, 1, 2, 7289.06, -910.385, 924.593, 2.51465, 300, 12175, 0),
(30060, 571, 1, 2, 7305.28, -892.449, 923.123, 2.42825, 300, 12175, 0),
(30063, 571, 1, 2, 7341.45, -925.76, 910.76, 5.48345, 300, 75600, 3994),
(30063, 571, 1, 2, 7291.59, -1094.6, 938.791, 3.72494, 300, 75600, 3994),
(30065, 571, 1, 2, 7273.4, -887.233, 926.089, 5.4646, 300, 121750, 0),
(30065, 571, 1, 2, 7280.55, -880.537, 926.302, 5.4646, 300, 121750, 0),
(30065, 571, 1, 2, 7278.9, -946.518, 919.526, 5.0719, 300, 121750, 0),
(30065, 571, 1, 2, 7269.34, -959.327, 920.279, 6.23821, 300, 121750, 0),
(30065, 571, 1, 2, 7348.25, -928.295, 909.195, 5.73163, 300, 121750, 0),
(30065, 571, 1, 2, 7345.35, -865.466, 924.236, 5.71593, 300, 121750, 0),
(30065, 571, 1, 2, 7267.51, -899.118, 926.417, 5.64524, 300, 121750, 0),
(30065, 571, 1, 2, 7287.7, -873.746, 926.469, 5.43711, 300, 121750, 0),
(30065, 571, 1, 2, 7342.01, -989.925, 907.648, 5.13474, 300, 121750, 0),
(30065, 571, 1, 2, 7350.08, -988.275, 906.641, 4.05482, 300, 121750, 0),
(30065, 571, 1, 2, 7307.26, -1013.7, 914.134, 3.57965, 300, 121750, 0),
(30065, 571, 1, 2, 7306.63, -1023.18, 914.948, 2.64503, 300, 121750, 0),
(30065, 571, 1, 2, 7296.2, -1120.88, 938.196, 5.34522, 300, 121750, 0),
(30065, 571, 1, 2, 7287.17, -1126.52, 938.569, 5.43947, 300, 121750, 0),
(30065, 571, 1, 2, 7256.88, -1069.43, 940.928, 1.84235, 300, 121750, 0),
(30065, 571, 1, 2, 7266.8, -1066.69, 941.047, 1.83842, 300, 121750, 0),
(30065, 571, 1, 2, 7214.81, -1155.26, 935.023, 4.17891, 300, 121750, 0),
(30065, 571, 1, 2, 7196.9, -1146, 940.341, 5.05227, 300, 121750, 0),
(30065, 571, 1, 2, 7213.5, -1135.92, 938.378, 0.461616, 300, 121750, 0),
(30065, 571, 1, 2, 7217.81, -1144.61, 936.456, 0.465543, 300, 121750, 0),
(30065, 571, 1, 2, 7338.96, -1090.7, 907.04, 2.00492, 300, 121750, 0),
(30065, 571, 1, 2, 7332.72, -1091.98, 909.707, 1.63971, 300, 121750, 0),
(30065, 571, 1, 2, 7313.48, -977.635, 912.903, 1.66327, 300, 121750, 0),
(30082, 571, 1, 2, 7263.44, -873.846, 925.126, 5.43711, 600, 126000, 0),
(30182, 571, 1, 2, 7276.77, -885.37, 926.248, 5.42925, 300, 630000, 0),
(30591, 571, 1, 2, 7340.43, -1085.1, 906.23, 4.40824, 300, 12175, 3893),
(30591, 571, 1, 2, 7331.17, -1080.68, 909.473, 4.68706, 300, 12175, 3893),
(30591, 571, 1, 2, 7313.07, -975.323, 913.812, 4.36112, 300, 12175, 3893),
(30053, 571, 1, 2, 7024.9, -1283.24, 923.815, 6.08877, 60, 12600, 3994),
(30053, 571, 1, 2, 7005.08, -1217.31, 932.563, 4.04162, 60, 11770, 3809),
(30053, 571, 1, 2, 7056.8, -1195.76, 925.301, 3.16747, 60, 12600, 3994),
(30382, 571, 1, 2, 7524.93, -972.161, 478.667, 5.40885, 600, 75600, 0),
(30383, 571, 1, 2, 7519.56, -973.8, 467.529, 3.67704, 300, 25200, 0);

DELETE FROM `spell_area` WHERE `spell`=55782;
INSERT INTO `spell_area` (`spell`,`area`,`quest_start`,`quest_end`,`autocast`,`quest_start_status`,`quest_end_status`) VALUES
(55782,4431,12879,12973,1,74,1),
(55782,4432,12879,12973,1,74,1),
(55782,4473,12879,12973,1,74,1);

UPDATE `creature_template` SET `faction_A`=210, `faction_H`=210 WHERE `entry`=30065;
UPDATE `creature_template` SET `faction_A`=84, `faction_H`=84 WHERE `entry`=30182;
UPDATE `creature_template` SET `faction_A`=1955, `faction_H`=1955 WHERE `entry` IN (30060,30591);
UPDATE `creature_template` SET `faction_A`=2108, `faction_H`=2108 WHERE `entry`=30063;
UPDATE `creature_template` SET `faction_A`=16, `faction_H`=16 WHERE `entry`=30053;

-- The Guardian's Charge SAI
SET @ENTRY := 30548;
UPDATE `creature` SET `phaseMask`=phaseMask|2 WHERE `id`=@ENTRY;
UPDATE `creature_template` SET `AIName`='SmartAI' WHERE `entry`=@ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`,`source_type`,`id`,`link`,`event_type`,`event_phase_mask`,`event_chance`,`event_flags`,`event_param1`,`event_param2`,`event_param3`,`event_param4`,`action_type`,`action_param1`,`action_param2`,`action_param3`,`action_param4`,`action_param5`,`action_param6`,`target_type`,`target_param1`,`target_param2`,`target_param3`,`target_x`,`target_y`,`target_z`,`target_o`,`comment`) VALUES
(@ENTRY,0,0,0,19,0,100,0,12879,0,0,0,85,56116,2,0,0,0,0,7,0,0,0,0,0,0,0,'The Guardian''s Charge - On quest accept - Invoker cast Summon Frostborn Axemaster');

-- Frostborn Axemaster SAI
SET @ENTRY := 30356;
UPDATE `creature_template` SET `faction_A`=210, `faction_H`=210, `minlevel`=80, `maxlevel`=80, `mindmg`=422, `maxdmg`=586, `attackpower`=642, `dmg_multiplier`=7.5, `AIName`='SmartAI' WHERE `entry`=@ENTRY;
DELETE FROM `smart_scripts` WHERE `entryorguid`=@ENTRY AND `source_type`=0;
INSERT INTO `smart_scripts` (`entryorguid`,`source_type`,`id`,`link`,`event_type`,`event_phase_mask`,`event_chance`,`event_flags`,`event_param1`,`event_param2`,`event_param3`,`event_param4`,`action_type`,`action_param1`,`action_param2`,`action_param3`,`action_param4`,`action_param5`,`action_param6`,`target_type`,`target_param1`,`target_param2`,`target_param3`,`target_x`,`target_y`,`target_z`,`target_o`,`comment`) VALUES
(@ENTRY,0,0,0,54,0,100,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,'Frostborn Axemaster - Just summoned - Say text'),
(@ENTRY,0,1,0,25,0,100,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,'Frostborn Axemaster - Reset - React Deffensive');

DELETE FROM `creature_text` WHERE `entry`=@ENTRY;
INSERT INTO `creature_text` (`entry`,`groupid`,`id`,`text`,`type`,`language`,`probability`,`emote`,`duration`,`sound`,`comment`) VALUES
(@ENTRY,0,0,"Hail! I hate to rush you, but there's an army of iron dwarves here to stop whatever you and Creteus are trying to do... we need to get out of here.",12,0,100,0,0,0,'Frostborn Axemaster');
